version: 2

models:
  - name: stg__modcom__policy_chain_v3
    description: "Staging model for policy chain data from the 'modcom' source. This model cleans and transforms data from `raw__modcom__policy_chain_v3`. It includes an `add_keys` step, suggesting enrichment or creation of new key columns."
    columns:
      - name: policy_chain_id
        data_type: uinteger
        description: 'Identifier for the policy chain, likely sourced from `raw__modcom__policy_chain_v3.policy_chain_id`.'
        data_tests:
          - not_null
          - relationships:
              field: policy_chain_id
              to: ref('raw__modcom__policy_chain_v3')
      - name: company_numb
        data_type: utinyint
        description: 'Company number associated with the policy, likely sourced from `raw__modcom__policy_chain_v3.company_numb`.'
        data_tests:
          - accepted_values:
              values:
                - 1
                - 3
                - 5
                - 7
                - 4
          - not_null
      - name: policy_sym
        data_type: varchar
        description: 'Policy symbol, likely sourced from `raw__modcom__policy_chain_v3.policy_sym`.'
        data_tests:
          - not_null
      - name: policy_numb
        data_type: uinteger
        description: 'Policy number, likely sourced from `raw__modcom__policy_chain_v3.policy_numb`.'
        data_tests:
          - not_null
      - name: policy_module
        data_type: uinteger
        description: 'Policy module, likely sourced from `raw__modcom__policy_chain_v3.policy_module`.'
        data_tests:
          - not_null
      - name: policy_eff_date
        data_type: timestamp
        description: 'Effective date of the policy, likely sourced from `raw__modcom__policy_chain_v3.policy_eff_date`.'
        data_tests:
          - not_null
      - name: placeholder_key_column
        description: "This is a placeholder. Describe any new key columns created in the 'add_keys' CTE."
